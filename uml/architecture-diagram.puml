@startuml architecture-diagram

!theme plain

package "Context Layer" {
    [TimetableContext] #lightblue
    [StateContext] #lightblue
    [AppProviders] #lightblue
}

package "Application Layer" {
    [App] #lightgreen
    [TimetableApp] #lightgreen
}

package "Core UI Components" {
    [Menu] #yellow
    [Subjects] #yellow
    [Timetable] #yellow
    [Footer] #yellow
}

package "Utils & Hooks" {
    [useKeyboardShortcuts] #lightgray
    [serverApi] #lightgray
    [timetableUtils] #lightgray
    [CanvasExport] #lightgray
}

' Context relationships
[AppProviders] --> [TimetableContext]
[AppProviders] --> [StateContext]
[App] --> [AppProviders]

' Main app structure
[App] --> [TimetableApp]
[TimetableApp] --> [Menu]
[TimetableApp] --> [Subjects]
[TimetableApp] --> [Timetable]
[TimetableApp] --> [Footer]

' Hook and utility usage
[TimetableApp] --> [useKeyboardShortcuts]
[Menu] --> [serverApi]
[Menu] --> [CanvasExport]
[Timetable] --> [timetableUtils]

' Context usage (dashed lines for context consumption)
[TimetableApp] ..> [TimetableContext] : uses
[TimetableApp] ..> [StateContext] : uses
[Menu] ..> [StateContext] : uses
[Subjects] ..> [TimetableContext] : uses
[Timetable] ..> [TimetableContext] : uses
[Timetable] ..> [StateContext] : uses

note right of [TimetableContext]
    Kezeli:
    - eventsJSON
    - Tárgy/Kurzus műveletek
    - localStorage integráció
end note

note right of [StateContext]
    Kezeli:
    - Alkalmazás beállítások
    - Jelenlegi UI állapot
    - localStorage integráció
end note

note bottom of [useKeyboardShortcuts]
    Egyedi hook a
    Ctrl+K billentyűparancshoz
end note

@enduml